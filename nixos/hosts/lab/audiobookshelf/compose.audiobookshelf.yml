# SPDX-FileCopyrightText: Andrew Hayzen <ahayzen@gmail.com>
#
# SPDX-License-Identifier: MPL-2.0

services:
  audiobookshelf:
    image: ghcr.io/advplyr/audiobookshelf:2.19.0@sha256:46f36b2f533e30347ae6d1e35ede6dc805a8d82211e26c4eee1f8f99cc245d48
    expose:
      - 80
    networks:
      - group-proxy
    volumes:
      # Backup the database
      - /var/lib/docker-compose-runner/audiobookshelf/config:/config
      # We do not need to backup the podcasts content or metadata
      - /var/cache/docker-compose-runner/audiobookshelf/podcasts:/podcasts
      - /var/cache/docker-compose-runner/audiobookshelf/metadata:/metadata
      # TODO: could add audiobook storage and support
    environment:
      - TZ=Europe/London
